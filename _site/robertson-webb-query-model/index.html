<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robertson-Webb Query Model | Fair Division Algorithms</title>

    <!-- Fixed CSS paths -->
    <link rel="stylesheet" href="/fair-division-algorithms/assets/css/main.css">

    <!-- Fixed favicon paths -->
    <link rel="icon" type="image/svg+xml" href="/fair-division-algorithms/assets/favicon/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/fair-division-algorithms/assets/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/fair-division-algorithms/assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/fair-division-algorithms/assets/favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/fair-division-algorithms/assets/favicon/apple-touch-icon.png">

    <meta name="theme-color" content="#3182ce">

    <!-- MathJax Configuration - MUST come before script load -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            }
        };
    </script>

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Robertson-Webb Query Model | Fair Division Algorithms</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Robertson-Webb Query Model" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An interactive educational platform developed by Amaan Khan and Dr. Ron Cytron. Washington University in St. Louis received financial support from Mozilla Responsible Computer Science for this project." />
<meta property="og:description" content="An interactive educational platform developed by Amaan Khan and Dr. Ron Cytron. Washington University in St. Louis received financial support from Mozilla Responsible Computer Science for this project." />
<link rel="canonical" href="http://localhost:4000/fair-division-algorithms/robertson-webb-query-model/" />
<meta property="og:url" content="http://localhost:4000/fair-division-algorithms/robertson-webb-query-model/" />
<meta property="og:site_name" content="Fair Division Algorithms" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Robertson-Webb Query Model" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"An interactive educational platform developed by Amaan Khan and Dr. Ron Cytron. Washington University in St. Louis received financial support from Mozilla Responsible Computer Science for this project.","headline":"Robertson-Webb Query Model","url":"http://localhost:4000/fair-division-algorithms/robertson-webb-query-model/"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>
<!-- Site Header -->
<header class="site-header">
    <div class="container">
        <a href="/fair-division-algorithms/" class="site-title">Fair Division Algorithms</a>
        <nav class="site-nav">
            <a href="/fair-division-algorithms/theory/">Theory</a>
            <a href="/fair-division-algorithms/exercises/">Exercises + Simulator</a>
            <a href="/fair-division-algorithms/glossary/">Glossary</a>
            <a href="/fair-division-algorithms/references/">References</a>
        </nav>
    </div>
</header>

<!-- Main Content -->
<main class="main-content">
    <div class="container">
        <div class="page-header">
  <h1 class="page-title">Robertson-Webb Query Model</h1>
  <p class="page-description">The standard computational framework for analyzing discrete fair division algorithms</p>
</div>

<div class="content-block">
  <h2>Overview</h2>
  <p>The Robertson-Webb query model, introduced by Robertson and Webb in 1998, provides the fundamental framework for measuring computational complexity in fair division. Rather than counting traditional operations like arithmetic or comparisons, this model measures complexity through the lens of information revelation—counting queries about players' private preferences.</p>

  <p>This model captures the reality that in fair division problems, the primary computational bottleneck is not calculation but rather the extraction of preference information from participants who may have complex, private valuations.</p>
</div>

<div class="content-block">
  <h2>The Two Query Types</h2>

  <div class="properties-grid">

    <div class="property-card">
      <h3>Cut Query (CUT)</h3>
      <p class="property-description">
        <strong>Format:</strong> CUT<sub>i</sub>(x, α)
      </p>
      <p><strong>Question:</strong> "Where should I cut starting from position x so that the piece from x to the cut has value exactly α to you?"</p>
      <p><strong>Returns:</strong> Position y such that v<sub>i</sub>([x, y]) = α</p>
      <p><strong>Use Cases:</strong></p>
      <ul>
        <li>Making proportional cuts</li>
        <li>Equalizing piece values</li>
        <li>Finding specific value thresholds</li>
      </ul>
    </div>

    <div class="property-card">
      <h3>Evaluation Query (EVAL)</h3>
      <p class="property-description">
        <strong>Format:</strong> EVAL<sub>i</sub>(x, y)
      </p>
      <p><strong>Question:</strong> "What is the value of the piece from position x to position y to you?"</p>
      <p><strong>Returns:</strong> Value v<sub>i</sub>([x, y])</p>
      <p><strong>Use Cases:</strong></p>
      <ul>
        <li>Comparing piece values</li>
        <li>Verifying fairness properties</li>
        <li>Selecting preferred pieces</li>
      </ul>
    </div>
  </div>

  <h3>Query Properties</h3>
  <ul>
    <li><strong>Consistency:</strong> Repeated queries with same parameters must return same results</li>
    <li><strong>Additivity:</strong> For disjoint intervals, values must sum correctly</li>
    <li><strong>Normalization:</strong> v<sub>i</sub>([0, 1]) = 1 for all players</li>
    <li><strong>Monotonicity:</strong> Larger pieces have at least as much value as their subpieces</li>
  </ul>
</div>

<div class="content-block">
  <h2>Complexity Analysis Examples</h2>

  <h3>Algorithm Query Complexities</h3>

  <table class="comparison-table">
    <thead>
      <tr>
        <th>Algorithm</th>
        <th>Players</th>
        <th>Fairness</th>
        <th>Query Complexity</th>
        <th>Query Breakdown</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Divide-and-Choose</strong></td>
        <td>2</td>
        <td>Proportional, Envy-free</td>
        <td>2</td>
        <td>1 CUT + 1 EVAL</td>
      </tr>
      <tr>
        <td><strong>Dubins-Spanier</strong></td>
        <td>n</td>
        <td>Proportional</td>
        <td>O(n²)</td>
        <td>n CUTs + O(n²) EVALs</td>
      </tr>
      <tr>
        <td><strong>Even-Paz</strong></td>
        <td>n</td>
        <td>Proportional</td>
        <td>O(n log n)</td>
        <td>Recursive halving</td>
      </tr>
      <tr>
        <td><strong>Selfridge-Conway</strong></td>
        <td>3</td>
        <td>Envy-free</td>
        <td>14</td>
        <td>5 CUTs + 9 EVALs</td>
      </tr>
      <tr>
        <td><strong>Aziz-Mackenzie</strong></td>
        <td>n</td>
        <td>Envy-free</td>
        <td>O(n<sup>n<sup>n<sup>n<sup>n<sup>n</sup></sup></sup></sup></sup>)</td>
        <td>Finite but impractical</td>
      </tr>
    </tbody>
  </table>

  <h3>Detailed Example: Divide-and-Choose</h3>

  <div class="proof-sketch">
    <p><strong>Step-by-step query analysis:</strong></p>
    <ol>
      <li><strong>Divider makes cut:</strong> CUT<sub>1</sub>(0, 0.5) → returns position p where v<sub>1</sub>([0, p]) = 0.5</li>
      <li><strong>Chooser evaluates left piece:</strong> EVAL<sub>2</sub>(0, p) → returns v<sub>2</sub>([0, p])</li>
      <li><strong>Chooser decides:</strong> If v<sub>2</sub>([0, p]) ≥ 0.5, choose left; otherwise, choose right</li>
    </ol>
    <p><strong>Total:</strong> 2 queries (optimal for 2-player proportional division)</p>
  </div>
</div>

<div class="content-block">
  <h2>Lower Bounds</h2>

  <h3>Fundamental Results</h3>

  <div class="theorem-box">
    <p><strong>Theorem (Edmonds-Pruhs, 2006):</strong> Any deterministic algorithm that computes a proportional division for n players requires Ω(n log n) queries in the Robertson-Webb model.</p>
  </div>

  <div class="proof-sketch">
    <p><strong>Proof Sketch:</strong> The proof uses an adversarial argument with a reduction from comparison-based sorting:</p>
    <ol>
      <li>Given n numbers to sort, construct n valuation functions where player i values interval [a<sub>i</sub>, a<sub>i</sub> + ε] highly</li>
      <li>Any proportional division must identify these valuable regions</li>
      <li>Finding these regions is equivalent to sorting the numbers</li>
      <li>Since sorting requires Ω(n log n) comparisons, proportional division requires Ω(n log n) queries</li>
    </ol>
  </div>

  <h3>Open Problems</h3>
  <ul>
    <li><strong>Envy-free for n ≥ 4:</strong> Is there a finite upper bound in the Robertson-Webb model?</li>
    <li><strong>Connected pieces:</strong> What is the query complexity of proportional division with connected pieces?</li>
    <li><strong>Randomized algorithms:</strong> Can randomization significantly reduce query complexity?</li>
  </ul>
</div>

<div class="content-block">
  <h2>Advantages and Limitations</h2>

  <h3>Advantages</h3>
  <ul>
    <li><strong>Minimal information revelation:</strong> Players only reveal necessary preference information</li>
    <li><strong>Natural interaction model:</strong> Queries correspond to natural questions in negotiation</li>
    <li><strong>Clean complexity measure:</strong> Query count provides implementation-independent analysis</li>
    <li><strong>Strategy-proof potential:</strong> Limited information revelation can support truthfulness</li>
  </ul>

  <h3>Limitations</h3>
  <ul>
    <li><strong>Discrete only:</strong> Cannot model continuous procedures (moving-knife)</li>
    <li><strong>Perfect precision assumed:</strong> Real implementations require approximation</li>
    <li><strong>Sequential model:</strong> Doesn't capture potential for parallelization</li>
    <li><strong>No valuation structure:</strong> Treats all valuations equally, missing opportunities for structured preferences</li>
  </ul>
</div>

<div class="content-block">
  <h2>Extensions and Variants</h2>

  <h3>Approximate Queries</h3>
  <p>In practice, players cannot answer queries with perfect precision. The ε-approximate Robertson-Webb model allows:</p>
  <ul>
    <li><strong>ε-CUT:</strong> Returns y where |v<sub>i</sub>([x, y]) - α| ≤ ε</li>
    <li><strong>ε-EVAL:</strong> Returns value within ε of true value</li>
  </ul>
  <p>This enables algorithms with complexity O(n log(1/ε)) for ε-approximate fairness.</p>

  <h3>Parallel Query Model</h3>
  <p>Allows multiple queries to be asked simultaneously:</p>
  <ul>
    <li>Reduces number of rounds of interaction</li>
    <li>Total query count may remain the same</li>
    <li>Better models online platforms where users answer batches of questions</li>
  </ul>

  <h3>Comparison Queries</h3>
  <p>Some variants add a third query type:</p>
  <ul>
    <li><strong>COMPARE<sub>i</sub>(x, y, z, w):</strong> Is piece [x, y] worth more than piece [z, w]?</li>
    <li>Returns binary answer rather than numerical values</li>
    <li>Can be more realistic for human decision-making</li>
  </ul>
</div>

<div class="content-block">
  <h2>Implementation Considerations</h2>

  <h3>From Theory to Practice</h3>

  <div class="implementation-grid">
    <div class="implementation-item">
      <h4>User Interface Design</h4>
      <p>CUT queries → Interactive sliders</p>
      <p>EVAL queries → Visual value displays</p>
    </div>

    <div class="implementation-item">
      <h4>Numerical Precision</h4>
      <p>Floating-point arithmetic limits</p>
      <p>Need for rational approximations</p>
    </div>

    <div class="implementation-item">
      <h4>Query Caching</h4>
      <p>Store previous responses</p>
      <p>Ensure consistency across queries</p>
    </div>

    <div class="implementation-item">
      <h4>Preference Elicitation</h4>
      <p>Guide users through complex queries</p>
      <p>Provide visual feedback</p>
    </div>
  </div>
</div>

<div class="content-block">
  <h2>Research Directions</h2>

  <h3>Current Focus Areas</h3>
  <ul>
    <li><strong>Machine learning integration:</strong> Learning valuation functions from partial queries</li>
    <li><strong>Robust algorithms:</strong> Handling inconsistent or noisy query responses</li>
    <li><strong>Multi-dimensional resources:</strong> Extending beyond one-dimensional cake</li>
    <li><strong>Dynamic settings:</strong> Fair division with changing valuations over time</li>
  </ul>

  <h3>Key References</h3>
  <ul>
    <li>Robertson, J., &amp; Webb, W. (1998). <em>Cake-Cutting Algorithms: Be Fair if You Can</em></li>
    <li>Edmonds, J., &amp; Pruhs, K. (2006). "Cake cutting really is not a piece of cake"</li>
    <li>Aziz, H., &amp; Mackenzie, S. (2016). "A discrete and bounded envy-free cake cutting protocol"</li>
    <li>Procaccia, A. D. (2016). "Cake cutting: Not just child's play"</li>
  </ul>
</div>

<footer class="algorithm-navigation">
  <a href="/fair-division-algorithms/overview/" class="nav-button secondary">← Models Overview</a>
  <a href="/fair-division-algorithms/moving-knife-model/" class="nav-button primary">Moving-Knife Model →</a>
</footer>

    </div>
</main>

<!-- Site Footer -->
<footer class="site-footer">
    <div class="container">
        <h3 class="footer-title">Fair Division Algorithms</h3>
        <p class="footer-description">An interactive educational platform developed by Amaan Khan and Dr. Ron Cytron.  Washington University in St. Louis received financial support from Mozilla Responsible Computer Science for this project.</p>
    </div>
</footer>

<!-- Import MathJax for LaTex Support -->
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Import scripts -->
<!-- Fair Division Demo System Scripts -->

<!-- Core demo system -->
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/core/demo-system.js"></script>
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/core/demo-controller.js"></script>

<!-- Indivisible goods extensions -->
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/core/indivisible-goods-extensions.js"></script>

<!-- Existing divisible goods algorithms -->
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/algorithms/divisible/divide-and-choose.js"></script>
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/algorithms/divisible/austins-moving-knife.js"></script>
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/algorithms/divisible/steinhaus-lone-divider.js"></script>
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/algorithms/divisible/selfridge-conway.js"></script>

<!-- Indivisible goods algorithms -->
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/algorithms/indivisible/knaster-sealed-bids.js"></script>
<script src="/fair-division-algorithms/assets/js/interactive-dashboard/algorithms/indivisible/lucas-method-markers.js"></script>

<!-- Flowchart System -->
<script src="/fair-division-algorithms/assets/js/flowcharts/core/flowchart-template-manager.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/core/container-growth-manager.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/core/query-manager.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/core/flowchart-state-manager.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/core/flowchart-animator.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/core/flowchart-enhanced.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/data/algorithm-data.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/utils/flowchart-factory.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/utils/global-functions.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/utils/initialization.js"></script>
<script src="/fair-division-algorithms/assets/js/flowcharts/utils/exports.js"></script>

<script src=""></script>
<script src=""></script>

<script>
    // Initialize enhanced algorithm selector on page load
    document.addEventListener('DOMContentLoaded', function() {
        // Wait for all scripts to load, then enhance the selector
        setTimeout(() => {
            enhanceAlgorithmSelector();
        }, 100);
    });

    // Enhanced algorithm selector with goods type grouping
    function enhanceAlgorithmSelector() {
        const selector = document.getElementById('algorithm-selector');
        if (!selector) return;

        // Get the demo system instance
        const demoSystem = window.FairDivisionCore.getInstance();
        if (!demoSystem) return;

        // Clear existing options
        selector.innerHTML = '<option value="">Select an algorithm...</option>';

        // Group algorithms by goods type
        const algorithmsByType = {
            'divisible': [],
            'discrete-items': [],
            'linear-arrangement': []
        };

        // Categorize registered algorithms
        demoSystem.algorithms.forEach((algorithm, id) => {
            const goodsType = algorithm.config.goodsType || 'divisible';
            if (algorithmsByType[goodsType]) {
                algorithmsByType[goodsType].push({ id, config: algorithm.config });
            }
        });

        // Create optgroups
        Object.entries(algorithmsByType).forEach(([type, algorithms]) => {
            if (algorithms.length > 0) {
                const optgroup = document.createElement('optgroup');

                // Set label based on goods type
                switch(type) {
                    case 'divisible':
                        optgroup.label = 'Divisible Goods (Continuous)';
                        break;
                    case 'discrete-items':
                        optgroup.label = 'Indivisible Goods (Discrete Items)';
                        break;
                    case 'linear-arrangement':
                        optgroup.label = 'Indivisible Goods (Linear Arrangement)';
                        break;
                    default:
                        optgroup.label = type.charAt(0).toUpperCase() + type.slice(1);
                }

                // Add algorithms to optgroup
                algorithms.forEach(({ id, config }) => {
                    const option = document.createElement('option');
                    option.value = id;
                    option.textContent = config.name;
                    optgroup.appendChild(option);
                });

                selector.appendChild(optgroup);
            }
        });

        console.log('[DEMO] Enhanced algorithm selector with goods type grouping');
    }
</script>

<!-- Proof Sketches and Interactive Elements -->
<script>
    // Initialize collapsible proof sketches after DOM is ready
    document.addEventListener('DOMContentLoaded', function () {
        // Wait for MathJax to finish rendering before initializing proof sketches
        if (window.MathJax && window.MathJax.startup) {
            window.MathJax.startup.promise.then(() => {
                initializeProofSketches();
            });
        } else {
            // Fallback if MathJax isn't loaded
            setTimeout(initializeProofSketches, 500);
        }
    });

    function initializeProofSketches() {
        // Find all existing proof-sketch divs and convert them
        const proofSketches = document.querySelectorAll('.proof-sketch');

        proofSketches.forEach(function (proofSketch, index) {
            // Skip if already initialized
            if (proofSketch.classList.contains('proof-sketch-initialized')) {
                return;
            }

            // Get the current content (preserving MathJax rendering)
            const originalContent = proofSketch.innerHTML;

            // Create the new structure
            const proofId = `proof-sketch-${index}`;

            // Create header element
            const header = document.createElement('div');
            header.className = 'proof-sketch-header';
            header.setAttribute('role', 'button');
            header.setAttribute('tabindex', '0');
            header.setAttribute('aria-expanded', 'false');
            header.setAttribute('aria-controls', `${proofId}-content`);
            header.setAttribute('data-proof-toggle', '');

            header.innerHTML = `
                    <span class="proof-sketch-title">Take a minute to think about why! Click here to see a proof.</span>
                    <span class="proof-sketch-toggle">▼</span>
                `;

            // Create content wrapper
            const contentWrapper = document.createElement('div');
            contentWrapper.className = 'proof-sketch-content';
            contentWrapper.id = `${proofId}-content`;
            contentWrapper.setAttribute('role', 'region');
            contentWrapper.setAttribute('aria-hidden', 'true');
            contentWrapper.innerHTML = originalContent;

            // Clear the original content and add new structure
            proofSketch.innerHTML = '';
            proofSketch.appendChild(header);
            proofSketch.appendChild(contentWrapper);

            // Mark as initialized
            proofSketch.classList.add('proof-sketch-initialized');

            // Add click event listener
            header.addEventListener('click', function () {
                toggleProofSketch(proofSketch);
            });

            // Add keyboard support (Enter and Space)
            header.addEventListener('keydown', function (e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    toggleProofSketch(proofSketch);
                }
            });
        });
    }

    function toggleProofSketch(proofSketch) {
        const header = proofSketch.querySelector('.proof-sketch-header');
        const content = proofSketch.querySelector('.proof-sketch-content');
        const title = proofSketch.querySelector('.proof-sketch-title');

        const isExpanded = proofSketch.classList.contains('expanded');

        if (isExpanded) {
            // Collapse
            proofSketch.classList.remove('expanded');
            header.setAttribute('aria-expanded', 'false');
            content.setAttribute('aria-hidden', 'true');
            title.textContent = 'Show Proof';

            // Reset max-height to 0 for smooth collapse
            content.style.maxHeight = '0px';

            // Reset padding after animation completes
            setTimeout(() => {
                if (!proofSketch.classList.contains('expanded')) {
                    content.style.padding = '0';
                }
            }, 400);

        } else {
            // Expand
            proofSketch.classList.add('expanded');
            header.setAttribute('aria-expanded', 'true');
            content.setAttribute('aria-hidden', 'false');
            title.textContent = 'Hide Proof';

            // Set padding first
            content.style.padding = '1rem';

            // Calculate proper max-height based on content (with some buffer)
            const contentHeight = content.scrollHeight;
            const bufferHeight = 50; // Add buffer for safety
            content.style.maxHeight = (contentHeight + bufferHeight) + 'px';

            // Optional: Scroll the proof into view if it's partially hidden
            setTimeout(() => {
                const rect = proofSketch.getBoundingClientRect();
                if (rect.bottom > window.innerHeight) {
                    proofSketch.scrollIntoView({
                        behavior: 'smooth',
                        block: 'nearest'
                    });
                }
            }, 300);
        }
    }
</script>
</body>
</html>